<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  
  <script>
    //一、 forEach
    // 1.1 可以改变数组自身，没有返回值；
    //  中途不能用常规操作跳出循环，可以用抛出异常（try/catch）的方式，但不推荐这样做

    //  1.2 
    // forEach()不一定改变自身数组。数组中的元素是值类型和引用类型场景下，是否都能获得改变：
        var arr1 = [
          {name:'鸣人',age:16},
          {name:'佐助',age:17}
        ];
        var arr2 = [1,2,3];

        arr1.forEach(item => { 
          item.age = item.age + 1}
        );

        //=> [{name:'鸣人',age:17},{name:'佐助',age:18}]

        arr2.forEach(item => {
          item = item * 2}
        )

        // => [1,2,3]
        // 最后的结果是，arr1发生了改变，鸣人、佐助都长了一岁，arr2没有任何改变。
        // 所以，可以粗暴得出结论：当数组中元素是值类型，forEach绝对不会改变数组；
        // 当是引用类型，则可以改变数组

      // 1.3不支持链式操作


      // 二、map
      // 新建一个数组，需要有承载对象，也意味着原始数组在调用它后不会发生变化;
      // 该数组中的每个元素都调用一个提供的函数后返回结果。


      // 创建新数组不代表不能用它改变原有数组，你用原有数组去承载就可以：
      let arr = [1,2,3];
      arr = arr.map(item => { return item * 2 })
      // arr同样也会改变
      // map()中每个元素都要执行相应的回调函数，所以必须要有return
      let newArr = [1,2,3,4,5].map(item => { if(item > 3) return item })
      // => [undefined, undefined, undefined, 4, 5]


      // 三、filter
      //  map()没法做到的过滤，就交给filter()去完成
      // filter()和map()很像，
      let newArr = [1,2,3,4,5].filter(item =>{
        if(item > 3) return item 
      })
      //  => [4,5]


      // 四、sort()
      // sort()用于对数组的元素进行排序。排序顺序可以是字母或数字，并按升序或降序。
      // 根据字符串Unicode码点

      // 4.1 // sort()与map()、filter()等不同，它直接改变原始数组
      // 4.2 sort可以接受一个函数作为参数,
      [1, 3, 2, 5, 4].sort((a, b) => {return a-b})
      // =>  [1, 2, 3, 4, 5]
      // 如果Function(a,b)小于0，则a排列到b之前；
      // 如果Function(a, b)等于0，a和b的相对位置不变
      // 如果Function(a, b)大于0，b排列到a之前； 


      // 五、 some()
      // 只要有一个满足即返回true，之后的不再执行
      var result = [
        {name:'鸣人',age:16},
        {name:'佐助',age:17}
      ].some(item => {
        return item.age > 16 
      });
      // => true



      // 六、every()
      // 如果说some()是"||"判断，那every()就是"&&"判断，
      // 它用于检测数组中的每一项是否都满足条件，只有都满足了才会返回true。

      var result = [
        {name:'鸣人',age:16},
        {name:'佐助',age:17}
      ].every(item => {
        return item.age > 16 
      });
      // => false
  </script>
</body>
</html>